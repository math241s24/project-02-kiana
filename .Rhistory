"FIRE_DSCVR",
"FIRE_DSC_1",
"FIRE_DSC_2",
"FIRE_CNTRL",
"FIRE_CNT_1",
"FIRE_CAUSE",
"TOTAL_RPT_",
"CMPLX_NM",
"COUNTYFP",
"COUNTYNS",
"STATEFP",
"IRWIN_ID",
"ADM_UNIT_C",
"ADMIN_ST",
"UNQE_FIRE_",
"STUSPS",
"LSAD",
"STATE_NAME"
)
fires_county <- fires_county %>%
select(-one_of(fires_county_cleanup))
#renaming
fires_county <- fires_county %>%
rename(fire_name = name,
cause = cause_gen,
county_name = NAME,
county_name_full = NAMELSAD
)
View(fire_location)
View(fires_county)
#Josie Griffin merged them in GIS for me :)
fire_manage <- read_csv("../Data/Original_Data/fire_location_data.csv")
fire_manage_cleanup <- c("point_of_origin_jurisdictional_unit_identifier",
"point_of_origin_protecting_unit_identifier",
"reported_unit_identifier",
"fire_incident_number",
"fire_code",
"fire_discovered_date_estimated_flag",
"fire_control_date_estimated_flag",
"collection_method",
"complex_name",
"irwin_identifier",
"wildland_fire_perimeter_comments",
"administrative_unit_code",
"administrative_state_code",
"created_date",
"created_by_name",
"modified_date",
"modify_by_name",
"created_user",
"created_date_2",
"last_edited_user",
"last_edited_date",
"unique_fire_identifier",
"FIRE_DSCVR",
"FIRE_DSC_1",
"FIRE_DSC_2",
"FIRE_CNTRL",
"FIRE_CNT_1",
"FIRE_CAUSE",
"TOTAL_RPT_",
"CMPLX_NM",
"IRWIN_ID",
"COMMENT",
"ADM_UNIT_C",
"ADMIN_ST",
"CREATE_DAT",
"CREATE_BY",
"MODIFY_DAT",
"MODIFY_BY",
"created_us",
"created_da",
"last_edite",
"last_edi_1",
"FeatClass",
"d_FeatClas",
"Category",
"d_Category",
"Own_Type",
"d_Own_Type",
"Own_Name",
"d_Own_Name",
"Loc_Own",
"Mang_Type",
"Mang_Name",
"Loc_Mang",
"Des_Tp",
"Loc_Ds",
"Unit_Nm",
"State_Nm",
"d_State_Nm",
"UNQE_FIRE_",
"Agg_Src",
"Src_Date",
"Source_PAI",
"WDPA_Cd",
"Pub_Access",
"d_Pub_Acce",
"Access_Src",
"Access_Dt",
"GAP_Sts",
"dGAP_Sts",
"GAPCdSrc",
"GAPCdDt",
"d_Des_Tp"
)
fire_manage <- fire_manage %>%
select(-one_of(fire_manage_cleanup))
fire_manage <- fire_manage %>%
rename(fire_name = incident_name,
discover_yr = fire_discovered_calendar_year,
discover_date = fire_control_date,
control_date = fire_control_date,
fire_cause = incident_general_cause_name,
mang_level = d_Mang_Typ,
mang_name = d_Mang_Nam,
land_name = Loc_Nm
)
fire_manage <- fire_manage %>%
filter(!is.na(mang_level)) %>%
filter(!is.na(mang_name))
View(fire_location)
View(fire_location)
View(ca_sf)
ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME)) +
labs(fill = "County") +
scale_fill_manual(values = rainbow(length(unique(fires_sf$NAME)))) +
theme_void()
ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME)) +
labs(fill = "County") +
theme_void()
ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME)) +
labs(fill = "County") +
theme_void() +
theme(legend.key = element_blank())
ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
ggplot() +
geom_sf(data = fires_sf, aes(fill = factor(discover_yr))) +
labs(fill = "Year") +
scale_fill_manual(values = rainbow(length(unique(fires_sf$discover_yr)))) +
theme_void()
#map of management levels across california: federal, state, local, tribal etc
#ggplot() +
#  geom_sf(data = PAD_CA_sf, aes(fill = mang_level)) +
#  labs(fill = "Management Level") +
#  theme_void()
#map of county boundaries in CA
ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
#map of fires in CA: colored by year
ggplot() +
geom_sf(data = fires_sf, aes(fill = factor(discover_yr))) +
labs(fill = "Year") +
scale_fill_manual(values = rainbow(length(unique(fires_sf$discover_yr)))) +
theme_void()
fire_counts_manglvl <- fire_location %>%
group_by(mang_level) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_mangnm <- fire_location %>%
group_by(mang_name) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
View(fire_manage)
View(fire_manage)
fire_counts_manglvl <- fire_manage %>%
group_by(mang_level) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_mangnm <- fire_manage %>%
group_by(mang_name) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
View(fires_county)
View(fire_counts_mangnm)
View(fire_counts_manglvl)
View(fire_manage)
fire_manage <- read_csv("../Data/Original_Data/fire_location_data.csv")
View(fire_manage)
View(fires_county)
View(fire_counts_mangnm)
View(fire_manage)
#Josie Griffin merged them in GIS for me :)
fire_manage <- read_csv("../Data/Original_Data/fire_location_data.csv")
fire_manage_cleanup <- c("point_of_origin_jurisdictional_unit_identifier",
"point_of_origin_protecting_unit_identifier",
"reported_unit_identifier",
"fire_incident_number",
"fire_code",
"fire_discovered_date_estimated_flag",
"fire_control_date_estimated_flag",
"collection_method",
"complex_name",
"irwin_identifier",
"wildland_fire_perimeter_comments",
"administrative_unit_code",
"administrative_state_code",
"created_date",
"created_by_name",
"modified_date",
"modify_by_name",
"created_user",
"created_date_2",
"last_edited_user",
"last_edited_date",
"unique_fire_identifier",
"FIRE_DSCVR",
"FIRE_DSC_1",
"FIRE_DSC_2",
"FIRE_CNTRL",
"FIRE_CNT_1",
"FIRE_CAUSE",
"TOTAL_RPT_",
"CMPLX_NM",
"IRWIN_ID",
"COMMENT",
"ADM_UNIT_C",
"ADMIN_ST",
"CREATE_DAT",
"CREATE_BY",
"MODIFY_DAT",
"MODIFY_BY",
"created_us",
"created_da",
"last_edite",
"last_edi_1",
"FeatClass",
"d_FeatClas",
"Category",
"d_Category",
"Own_Type",
"d_Own_Type",
"Own_Name",
"d_Own_Name",
"Loc_Own",
"Mang_Type",
"Mang_Name",
"Loc_Mang",
"Des_Tp",
"Loc_Ds",
"Unit_Nm",
"State_Nm",
"d_State_Nm",
"UNQE_FIRE_",
"Agg_Src",
"Src_Date",
"Source_PAI",
"WDPA_Cd",
"Pub_Access",
"d_Pub_Acce",
"Access_Src",
"Access_Dt",
"GAP_Sts",
"dGAP_Sts",
"GAPCdSrc",
"GAPCdDt",
"d_Des_Tp"
)
fire_manage <- fire_manage %>%
select(-one_of(fire_manage_cleanup))
fire_manage <- fire_manage %>%
rename(fire_name = incident_name,
discover_yr = fire_discovered_calendar_year,
discover_date = fire_control_date,
control_date = fire_control_date,
fire_cause = incident_general_cause_name,
mang_level = d_Mang_Typ,
mang_name = d_Mang_Nam,
land_name = Loc_Nm
)
fire_manage <- fire_manage %>%
filter(!is.na(mang_level)) %>%
filter(!is.na(mang_name))
View(fire_manage)
fire_counts_mangnm <- fire_manage %>%
group_by(mang_name, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
ggplot(fire_counts_manglvl, aes(x = discover_yr, y = fire_count, color = mang_level)) +
geom_line() +
labs(title = "CA Wildfires Over Time Across Land Management Level",
x = "Year Discovered",
y = "Number of Fires")
fire_counts_manglvl <- fire_manage %>%
group_by(mang_level, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_mangnm <- fire_manage %>%
group_by(mang_name, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
ggplot(fire_counts_manglvl, aes(x = discover_yr, y = fire_count, color = mang_level)) +
geom_line() +
labs(title = "CA Wildfires Over Time Across Land Management Level",
x = "Year Discovered",
y = "Number of Fires")
View(fire_manage)
View(fire_location)
View(fire_manage)
fire_manage <- read_csv("../Data/Original_Data/fire_location_data.csv")
View(fire_manage)
ggplot(fire_counts_manglvl, aes(x = discover_yr, y = fire_count, color = mang_level)) +
geom_line() +
labs(title = "CA Wildfires Over Time Across Land Management Level",
x = "Year Discovered",
y = "Number of Fires")
ggplot(fire_counts_manglvl, aes(x = discover_yr, y = fire_count, color = mang_level)) +
geom_line() +
labs(title = "CA Wildfires Over Time Across Land Management Level",
x = "Year Discovered",
y = "Number of Fires",
color = "Land Management")
fire_counts_manglvl <- fire_manage %>%
group_by(mang_level) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_mangnm <- fire_manage %>%
group_by(mang_name, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
#Josie Griffin merged them in GIS for me :)
fire_manage <- read_csv("../Data/Original_Data/fire_location_data.csv")
fire_manage_cleanup <- c("point_of_origin_jurisdictional_unit_identifier",
"point_of_origin_protecting_unit_identifier",
"reported_unit_identifier",
"fire_incident_number",
"fire_code",
"fire_discovered_date_estimated_flag",
"fire_control_date_estimated_flag",
"collection_method",
"complex_name",
"irwin_identifier",
"wildland_fire_perimeter_comments",
"administrative_unit_code",
"administrative_state_code",
"created_date",
"created_by_name",
"modified_date",
"modify_by_name",
"created_user",
"created_date_2",
"last_edited_user",
"last_edited_date",
"unique_fire_identifier",
"FIRE_DSCVR",
"FIRE_DSC_1",
"FIRE_DSC_2",
"FIRE_CNTRL",
"FIRE_CNT_1",
"FIRE_CAUSE",
"TOTAL_RPT_",
"CMPLX_NM",
"IRWIN_ID",
"COMMENT",
"ADM_UNIT_C",
"ADMIN_ST",
"CREATE_DAT",
"CREATE_BY",
"MODIFY_DAT",
"MODIFY_BY",
"created_us",
"created_da",
"last_edite",
"last_edi_1",
"FeatClass",
"d_FeatClas",
"Category",
"d_Category",
"Own_Type",
"d_Own_Type",
"Own_Name",
"d_Own_Name",
"Loc_Own",
"Mang_Type",
"Mang_Name",
"Loc_Mang",
"Des_Tp",
"Loc_Ds",
"Unit_Nm",
"State_Nm",
"d_State_Nm",
"UNQE_FIRE_",
"Agg_Src",
"Src_Date",
"Source_PAI",
"WDPA_Cd",
"Pub_Access",
"d_Pub_Acce",
"Access_Src",
"Access_Dt",
"GAP_Sts",
"dGAP_Sts",
"GAPCdSrc",
"GAPCdDt",
"d_Des_Tp"
)
fire_manage <- fire_manage %>%
select(-one_of(fire_manage_cleanup))
fire_manage <- fire_manage %>%
rename(fire_name = incident_name,
discover_yr = fire_discovered_calendar_year,
discover_date = fire_control_date,
control_date = fire_control_date,
fire_cause = incident_general_cause_name,
mang_level = d_Mang_Typ,
mang_name = d_Mang_Nam,
land_name = Loc_Nm
)
fire_manage <- fire_manage %>%
filter(!is.na(mang_level)) %>%
filter(!is.na(mang_name))
fire_counts_mangnm <- fire_manage %>%
group_by(mang_name, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_manglvl_yr <- fire_manage %>%
group_by(mang_level, discover_yr) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
fire_counts_manglvl <- fire_manage %>%
group_by(mang_level) %>%
summarize(fire_count = n()) %>%
mutate(percentage = (fire_count / sum(fire_count)) * 100)
#
ggplot(fire_counts_manglvl_yr, aes(x = discover_yr, y = fire_count, color = mang_level)) +
geom_line() +
labs(title = "CA Wildfires Over Time Across Land Management Level",
x = "Year Discovered",
y = "Number of Fires",
color = "Land Management")
View(fires_county)
View(fire_counts_mangnm)
View(fire_counts_manglvl)
View(fire_counts_manglvl_yr)
#animated plot of wildfires each year with fires_counties and adding county boundaries
# Combine the animated plot with the California boundaries
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void() +
transition_states(discover_yr, transition_length = 1, state_length = 1) +
view_follow(fires_sf_byyear)
library(countdown)
library(gt)
library(readxl)
library(gganimate)
library(gifski)
library(knitr)
library(kableExtra)
library(transformr)
#Animated plot of fires_sf without any boundaries
fires_sf_byyear <- ggplot() +
geom_sf(data = fires_sf, aes(fill = factor(discover_yr))) +
labs(fill = "Year") +
theme_void()
fires_sf_byyear + transition_states(discover_yr, transition_length = 1, state_length = 1)
animate(fires_sf_byyear)
#animated plot of wildfires each year with fires_counties and adding county boundaries
# Combine the animated plot with the California boundaries
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void() +
transition_states(discover_yr, transition_length = 1, state_length = 1) +
view_follow(fires_sf_byyear)
# Animate the combined plot
animate(combined_plot)
fires_sf$discover_yr <- factor(fires_sf$discover_yr)
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void() +
transition_states(discover_yr, transition_length = 1, state_length = 1) +
view_follow(fires_sf_byyear)
# Animate the combined plot
animate(combined_plot)
class(fires_sf$discover_yr)
anyNA(fires_sf$discover_yr)
length(unique(fires_sf$discover_yr))
animate(combined_plot, debug = TRUE)
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
# Animate the combined plot
animate(combined_plot + transition_states(fires_sf$discover_yr, transition_length = 1, state_length = 1))
#animated plot of wildfires each year with fires_counties and adding county boundaries
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
# Animate the combined plot
animate(combined_plot + transition_states(fires_sf$discover_yr, transition_length = 1, state_length = 1))
#animated plot of wildfires each year with fires_counties and adding county boundaries
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
combined_plot + transition_states(fires_sf$discover_yr, transition_length = 1, state_length = 1)
combined_plot <- ggplot() +
geom_sf(data = ca_sf, aes(fill = NAME), show.legend = FALSE) +
labs(fill = "County") +
theme_void()
View(ca_sf)
